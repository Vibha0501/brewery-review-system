import{_ as B,a as y,l as p,o as d,c as h,w as u,v as g,b as s,F as _,r as m,t as i,d as b}from"./index-14d451af.js";const v={data(){return{name:"",city:"",type:"",breweries:[]}},methods:{calculateAverageRating(t){let e=0;return t.forEach(n=>{e+=n.rating}),t.length>0?e/t.length:0},viewBrewery(t){this.$router.push({name:"DetailView",params:{id:t.id}})},async getBreweriesByCity(){try{const t=await y.get(`https://api.openbrewerydb.org/v1/breweries?by_city=${this.city}`);this.breweries=t.data,this.breweries.forEach(async e=>{const n=await p(e.id),l=this.calculateAverageRating(n);e.currentRating=l})}catch(t){console.error("Error:",t)}},async getBreweriesByName(){try{const t=await y.get(`https://api.openbrewerydb.org/breweries?by_name=${this.name}`);this.breweries=t.data,this.breweries.forEach(async e=>{const n=await p(e.id),l=this.calculateAverageRating(n);e.currentRating=l})}catch(t){console.error("Error:",t)}},async getBreweriesByType(){try{const t=await y.get(`https://api.openbrewerydb.org/breweries?by_type=${this.type}`);this.breweries=t.data,this.breweries.forEach(async e=>{const n=await p(e.id),l=this.calculateAverageRating(n);e.currentRating=l})}catch(t){console.error("Error:",t)}}}},f=s("h1",null,"Brewery Search",-1),x={class:"row"},R=["onClick"],C={class:"card-body"},k={class:"card-title"},E={class:"card-text"},V={class:"card-text"},S={class:"card-text"},T={class:"card-text"},N={class:"card-text"},A={class:"card-text"},D=["href"];function U(t,e,n,l,o,c){return d(),h("div",null,[f,u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.city=r),class:"form-control mb-3",placeholder:"Search by City",onChange:e[1]||(e[1]=(...r)=>c.getBreweriesByCity&&c.getBreweriesByCity(...r))},null,544),[[g,o.city]]),u(s("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.name=r),class:"form-control mb-3",placeholder:"Search by Name",onChange:e[3]||(e[3]=(...r)=>c.getBreweriesByName&&c.getBreweriesByName(...r))},null,544),[[g,o.name]]),u(s("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>o.type=r),class:"form-control mb-3",placeholder:"Search by Type",onChange:e[5]||(e[5]=(...r)=>c.getBreweriesByType&&c.getBreweriesByType(...r))},null,544),[[g,o.type]]),s("div",x,[(d(),h(_,null,m(3,r=>s("div",{key:r,class:"col-md-4 mb-3"},[(d(!0),h(_,null,m(o.breweries.slice((r-1)*3,r*3),(a,w)=>(d(),h("div",{class:"card border-dark mb-3",style:{"max-width":"18rem"},key:w,onClick:F=>c.viewBrewery(a)},[s("div",C,[s("h5",k,i(a.name),1),s("p",E,"Address: "+i(a.street)+", "+i(a.city),1),s("p",V,"Type: "+i(a.brewery_type),1),s("p",S,"Phone: "+i(a.phone),1),s("p",T," Current Rating: "+i(a.currentRating),1),s("p",N,i(a.state)+", "+i(a.country),1),s("p",A,[b("Website: "),s("a",{href:a.website_url,target:"_blank"},i(a.website_url),9,D)])])],8,R))),128))])),64))])])}const M=B(v,[["render",U]]);export{M as default};
